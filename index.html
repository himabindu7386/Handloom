<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üßµ Handloom Heritage ‚Äì Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #8B0000;
      color: white;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    header h1 {
      margin: 0;
      font-size: 22px;
    }

    nav {
      margin-top: 10px;
      text-align: center;
      background-color: #a52a2a;
      padding: 10px;
    }

    nav button {
      background-color: white;
      border: none;
      padding: 10px 20px;
      margin: 0 5px;
      border-radius: 6px;
      cursor: pointer;
      color: #8B0000;
      font-weight: bold;
    }

    nav button.active {
      background-color: #f4f4f4;
      border-bottom: 3px solid #8B0000;
    }

    .hidden { display: none; }

    .container {
      padding: 20px;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .product {
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
    }

    .product img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 8px;
    }

    .product button {
      margin: 5px;
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .add-btn { background-color: #4caf50; color: white; }
    .buy-btn { background-color: #1976d2; color: white; }
    .delete-btn { background-color: #d32f2f; color: white; }

    .form-container {
      max-width: 350px;
      margin: 20px auto;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .form-container input {
      width: 100%;
      padding: 8px;
      margin: 5px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .form-container button {
      width: 100%;
      padding: 10px;
      border: none;
      background-color: #8B0000;
      color: white;
      cursor: pointer;
      border-radius: 5px;
    }

    /* Cart Section on Top */
    .cart-header {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 10px 20px;
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .cart-header h3 {
      margin: 0;
      color: #8B0000;
    }

    .cart-header ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .cart-header li {
      margin: 5px 0;
      font-size: 14px;
    }

    .login-page {
      max-width: 300px;
      margin: 50px auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
    }

    .login-page input {
      width: 90%;
      padding: 8px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .login-page button {
      width: 95%;
      padding: 10px;
      background-color: #8B0000;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }

    a {
      color: #8B0000;
      text-decoration: none;
      font-weight: bold;
    }

  </style>
</head>
<body>

<header>
  <h1>üßµ Handloom Heritage Store</h1>
  <div class="cart-header">
    <h3>üõç Cart</h3>
    <ul id="cartItemsHeader"></ul>
  </div>
</header>

<!-- NAVIGATION -->
<nav id="navBar" class="hidden">
  <button id="dashboardTab" class="active" onclick="showTab('dashboard')">üè† Dashboard</button>
  <button id="addProductTab" onclick="showTab('addProduct')">‚ûï Add Product</button>
</nav>

<!-- LOGIN SECTION -->
<div id="loginSection" class="login-page">
  <h3>Login</h3>
  <input type="text" id="loginUsername" placeholder="Username">
  <input type="password" id="loginPassword" placeholder="Password">
  <button onclick="login()">Login</button>
  <p>New user? <a href="#" onclick="showRegister()">Register</a></p>
</div>

<!-- REGISTER SECTION -->
<div id="registerSection" class="login-page hidden">
  <h3>Register</h3>
  <input type="text" id="regUsername" placeholder="Username">
  <input type="password" id="regPassword" placeholder="Password">
  <button onclick="register()">Register</button>
  <p>Have an account? <a href="#" onclick="showLogin()">Login</a></p>
</div>

<!-- DASHBOARD -->
<div id="dashboardSection" class="container hidden">
  <h2>üß∂ Available Products</h2>
  <div class="product-grid" id="productGrid"></div>
</div>

<!-- ADD PRODUCT TAB -->
<div id="addProductSection" class="container hidden">
  <div class="form-container">
    <h3>Add New Product</h3>
    <input type="text" id="prodName" placeholder="Product Name">
    <input type="number" id="prodPrice" placeholder="Price in ‚Çπ">
    <input type="text" id="prodImage" placeholder="Image URL">
    <button onclick="addProduct()">Add Product</button>
  </div>
</div>

<script>
  // Default Products
  let products = [
    { name: "Pochampally Ikat Saree", price: 2500, image: "https://cdn.pixabay.com/photo/2016/03/27/19/24/ikat-1283780_1280.jpg" },
    { name: "Banarasi Silk Dupatta", price: 1500, image: "https://cdn.pixabay.com/photo/2018/10/10/18/27/dupatta-3737811_1280.jpg" },
    { name: "Handloom Cotton Bedsheet", price: 1200, image: "https://cdn.pixabay.com/photo/2016/11/29/08/24/textile-1868320_1280.jpg" },
    { name: "Cotton Thread Spools ‚Äì Multi Colour", price: 350, image: "https://cdn.pixabay.com/photo/2014/04/10/11/06/thread-321672_1280.jpg" },
    { name: "Silk Yarn Bundle", price: 500, image: "https://cdn.pixabay.com/photo/2016/12/20/18/28/silk-1928134_1280.jpg" },
    { name: "Natural Indigo Dye", price: 250, image: "https://cdn.pixabay.com/photo/2017/05/09/18/02/blue-2296053_1280.jpg" },
    { name: "Handloom Wooden Shuttle", price: 650, image: "https://cdn.pixabay.com/photo/2018/05/16/19/30/weaving-3407704_1280.jpg" }
  ];

  let cart = [];

  // Registration
  function register() {
    const username = document.getElementById("regUsername").value;
    const password = document.getElementById("regPassword").value;
    if (!username || !password) {
      alert("Please fill all fields!");
      return;
    }
    localStorage.setItem("user_" + username, password);
    alert("Registration successful! Please login.");
    showLogin();
  }

  // Login
  function login() {
    const username = document.getElementById("loginUsername").value;
    const password = document.getElementById("loginPassword").value;
    const storedPassword = localStorage.getItem("user_" + username);
    if (storedPassword && storedPassword === password) {
      alert("Login successful!");
      document.getElementById("loginSection").classList.add("hidden");
      document.getElementById("registerSection").classList.add("hidden");
      document.getElementById("dashboardSection").classList.remove("hidden");
      document.getElementById("navBar").classList.remove("hidden");
      renderProducts();
    } else {
      alert("Invalid credentials!");
    }
  }

  function showRegister() {
    document.getElementById("loginSection").classList.add("hidden");
    document.getElementById("registerSection").classList.remove("hidden");
  }

  function showLogin() {
    document.getElementById("registerSection").classList.add("hidden");
    document.getElementById("loginSection").classList.remove("hidden");
  }

  // Tabs
  function showTab(tab) {
    document.getElementById("dashboardTab").classList.remove("active");
    document.getElementById("addProductTab").classList.remove("active");

    document.getElementById("dashboardSection").classList.add("hidden");
    document.getElementById("addProductSection").classList.add("hidden");

    if (tab === "dashboard") {
      document.getElementById("dashboardSection").classList.remove("hidden");
      document.getElementById("dashboardTab").classList.add("active");
    } else {
      document.getElementById("addProductSection").classList.remove("hidden");
      document.getElementById("addProductTab").classList.add("active");
    }
  }

  // Render Products
  function renderProducts() {
    const grid = document.getElementById("productGrid");
    grid.innerHTML = "";
    products.forEach((product, index) => {
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <img src="${product.image}" alt="${product.name}">
        <h3>${product.name}</h3>
        <p>‚Çπ${product.price.toFixed(2)}</p>
        <button class="add-btn" onclick="addToCart(${index})">Add to Cart</button>
        <button class="buy-btn" onclick="buyNow('${product.name}')">Buy Now</button>
      `;
      grid.appendChild(div);
    });
  }

  // Add New Product
  function addProduct() {
    const name = document.getElementById("prodName").value;
    const price = parseFloat(document.getElementById("prodPrice").value);
    const image = document.getElementById("prodImage").value;

    if (!name || !price || !image) {
      alert("Please fill all fields!");
      return;
    }
    products.push({ name, price, image });
    alert("Product added successfully!");
    showTab("dashboard");
    renderProducts();
  }

  // Cart
  function addToCart(index) {
    cart.push(products[index]);
    updateCartHeader();
  }

  function updateCartHeader() {
    const list = document.getElementById("cartItemsHeader");
    list.innerHTML = "";
    cart.forEach((item, i) => {
      const li = document.createElement("li");
      li.innerHTML = `${item.name} - ‚Çπ${item.price.toFixed(2)} 
        <button class="delete-btn" onclick="removeFromCart(${i})">x</button>`;
      list.appendChild(li);
    });
  }

  function removeFromCart(i) {
    cart.splice(i, 1);
    updateCartHeader();
  }

  function buyNow(name) {
    alert(Thank you for buying ${name}!);
  }
</script>

</body>
</html>
